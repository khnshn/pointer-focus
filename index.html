<html>
    <head>
        <meta charset="utf-8">
        <title>Heatmap Test</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <style>
            body{
                margin: 0px;
                padding: 0px;
                overflow: hidden;
            }
            #heatmap{
                width: 100%;
                height: 100%;
            }
            .heat{
                width: 25px;
                height: 25px;
                background-color:rgb(255,255,255);
                border: 1px solid #aaa;
                display: block;
                position: absolute;
            }
        </style>
    </head>
    <body>
        <div id="heatmap">
        </div>
        <script>
            function getRGB(str){
                var match = str.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);
                return match ? {
                    red: match[1],
                    green: match[2],
                    blue: match[3]
                } : {};
            }
            function redder(object){
                var color = getRGB(object.css("background-color"));
                    var red = Number(color.red);
                    var green = Number(color.green);
                    var blue = Number(color.blue);
                    if(green > 0 && blue > 0){
                        green = green - 10;
                        blue = blue - 10;
                        object.css("background-color",`rgb(${red},${green},${blue})`)
                    }else{
                        blue = blue + 10;
                        object.css("background-color",`rgb(${red},${green},${blue})`)
                    }
            }
            $(document).ready(function(){
                var width = $('body').width();
                var height = $('body').height();
                var ids = [];
                for(var i=0;i<width/25;i++){
                    for(var j=0; j<height/25; j++){
                        $('#heatmap').append(`<div id="${i}b${j}" class="heat" style="left:${i*25};top:${j*25}"></div>`);
                    }
                }
                $('.heat').mouseenter(function(){
                    ids.push(this.id);
                });
                $('.heat').mouseleave(function(){
                    ids.pop();
                });
                setInterval(function(){
                    ids.forEach(function(item){
                        redder($(`#${item}`));
                    });
                },50);
            });
        </script>
    </body>
</html>